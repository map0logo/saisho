<!DOCTYPE html>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="DocOnce: https://github.com/hplgit/doconce/" />
<meta name="description" content="Ch.3: Functions and branching">

<title>Ch.3: Functions and branching</title>







<!-- reveal.js: http://lab.hakim.se/reveal-js/ -->

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

<link rel="stylesheet" href="reveal.js/css/reveal.css">
<link rel="stylesheet" href="reveal.js/css/theme/darkgray.css" id="theme">
<!--
<link rel="stylesheet" href="reveal.js/css/reveal.css">
<link rel="stylesheet" href="reveal.js/css/theme/beige.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/beigesmall.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/solarized.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/serif.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/night.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/moon.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/simple.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/sky.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/darkgray.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/default.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/cbc.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/simula.css" id="theme">
-->

<!-- For syntax highlighting -->
<link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">

<!-- If the query includes 'print-pdf', use the PDF print sheet -->
<script>
document.write( '<link rel="stylesheet" href="reveal.js/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
</script>

<style type="text/css">
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    p.caption { width: 80%; font-size: 60%; font-style: italic; text-align: left; }
    hr.figure { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .reveal .alert-text-small   { font-size: 80%;  }
    .reveal .alert-text-large   { font-size: 130%; }
    .reveal .alert-text-normal  { font-size: 90%;  }
    .reveal .alert {
             padding:8px 35px 8px 14px; margin-bottom:18px;
             text-shadow:0 1px 0 rgba(255,255,255,0.5);
             border:5px solid #bababa;
             -webkit-border-radius: 14px; -moz-border-radius: 14px;
             border-radius:14px
             background-position: 10px 10px;
             background-repeat: no-repeat;
             background-size: 38px;
             padding-left: 30px; /* 55px; if icon */
     }
     .reveal .alert-block {padding-top:14px; padding-bottom:14px}
     .reveal .alert-block > p, .alert-block > ul {margin-bottom:1em}
     /*.reveal .alert li {margin-top: 1em}*/
     .reveal .alert-block p+p {margin-top:5px}
     /*.reveal .alert-notice { background-image: url(http://hplgit.github.io/doconce/bundled/html_images/small_gray_notice.png); }
     .reveal .alert-summary  { background-image:url(http://hplgit.github.io/doconce/bundled/html_images/small_gray_summary.png); }
     .reveal .alert-warning { background-image: url(http://hplgit.github.io/doconce/bundled/html_images/small_gray_warning.png); }
     .reveal .alert-question {background-image:url(http://hplgit.github.io/doconce/bundled/html_images/small_gray_question.png); } */

</style>



<!-- Styles for table layout of slides -->
<style type="text/css">
td.padding {
  padding-top:20px;
  padding-bottom:20px;
  padding-right:50px;
  padding-left:50px;
}
</style>

</head>

<body>
<div class="reveal">

<!-- Any section element inside the <div class="slides"> container
     is displayed as a slide -->

<div class="slides">





<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



    



<section>
<!-- ------------------- main content ---------------------- -->



<center><h1>Ch.3: Functions and branching</h1></center>  <!-- document title -->

<p>
<!-- author(s): Hans Petter Langtangen -->

<center>
<b>Hans Petter Langtangen</b> [1, 2]
</center>


<p>&nbsp;<br>
<!-- institution(s) -->

<center>[1] <b>Simula Research Laboratory</b></center>
<center>[2] <b>University of Oslo, Dept. of Informatics</b></center>
<p>&nbsp;<br>
<center><h4>Sep 14, 2014</h4></center> <!-- date -->
<p>

</section>


<section>

<h2>We have used many Python functions  <a name="___sec0"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
Mathematical functions:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">from</span> <span style="color: #447fcf; text-decoration: underline">math</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #d0d0d0">*</span>
<span style="color: #d0d0d0">y</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">sin(x)*log(x)</span>
</pre></div>
<p>
Other functions:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">n</span> <span style="color: #d0d0d0">=</span> <span style="color: #24909d">len</span><span style="color: #d0d0d0">(somelist)</span>
<span style="color: #d0d0d0">integers</span> <span style="color: #d0d0d0">=</span> <span style="color: #24909d">range</span><span style="color: #d0d0d0">(</span><span style="color: #3677a9">5</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">n,</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">)</span>
</pre></div>
<p>
Functions used with the dot syntax (called <em>methods</em>):

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">C</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">[</span><span style="color: #3677a9">5</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">10</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">40</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">45</span><span style="color: #d0d0d0">]</span>
<span style="color: #d0d0d0">i</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">C.index(</span><span style="color: #3677a9">10</span><span style="color: #d0d0d0">)</span>        <span style="color: #999999; font-style: italic"># result: i=1</span>
<span style="color: #d0d0d0">C.append(</span><span style="color: #3677a9">50</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">C.insert(</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">20</span><span style="color: #d0d0d0">)</span>
</pre></div>

</div>


<p>

<p class="fragment">

<div class="fragment alert alert-block alert-block alert-text-normal">
<b></b>

What is a function? So far we have seen that we put some objects
in and sometimes get an object (result) out of functions.
Now it is time to write our own functions!
</div>


</p>


<p>

</section>


<section>

<h2>Functions are one of the most import tools in programming  <a name="___sec1"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>

<ul>
  <p><li> Function = a collection of statements we can execute wherever and whenever we want</li>
  <p><li> Function can take <em>input objects</em> (arguments) and produce output objects (returned results)</li>
  <p><li> Functions help to organize programs, make them more understandable, shorter, reusable, and easier to extend</li>
</ul>
</div>


<p>

</section>


<section>

<h2>Python function for implementing a mathematical function  <a name="___sec2"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
The mathematical function

<p>&nbsp;<br>
$$ F(C)={9\over5}C+32 $$
<p>&nbsp;<br>


<p>
can be implemented in Python as follows:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">F</span><span style="color: #d0d0d0">(C):</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">(</span><span style="color: #3677a9">9.0</span><span style="color: #d0d0d0">/</span><span style="color: #3677a9">5</span><span style="color: #d0d0d0">)*C</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">32</span>
</pre></div>
<p>
Note:

<ul>
  <p><li> Functions start with <code>def</code>, then the name of the function, then a list of arguments (here <code>C</code>)  - the <em>function header</em></li>
  <p><li> Inside the function: statements - the <em>function body</em></li>
  <p><li> Wherever we want, inside the function, we can "stop the function" and return as many values/variables we want</li>
</ul>
</div>


<p>

</section>


<section>

<h2>Functions must be called <a name="slides:funcif:call"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b>A function does not do anything before it is called.</b>
<p>

<p>

<iframe width="950" height="500" frameborder="0"
        src="http://pythontutor.com/iframe-embed.html#code=def+F%28C%29%3A%0A++++return+%289.0%2F5%29%2AC+%2B+32%0A%0Aa+%3D+10%0AF1+%3D+F%28a%29++++++++++++++++++++++++++++++%23+call%0Atemp+%3D+F%2815.5%29+++++++++++++++++++++++++%23+call%0Aprint+F%28a%2B1%29+++++++++++++++++++++++++++%23+call%0Asum_temp+%3D+F%2810%29+%2B+F%2820%29+++++++++++++++%23+two+calls%0AFdegrees+%3D+%5BF%28C%29+for+C+in+%5B0%2C+20%2C+40%5D++%23+multiple+calls&curInstr=0&py=2&cumulative=false">
</iframe>

</div>


<p>
<div class="alert alert-block alert-block alert-text-normal">
<b>Note:</b>
<p>
Since <code>F(C)</code> produces (returns) a <code>float</code> object, we can call <code>F(C)</code> everywhere a <code>float</code> can be used.
</div>


<p>

</section>


<section>

<h2>Functions can have as many arguments as you like <a name="slides:funcif:multiple:args"></a></h2>

Make a Python function of the mathematical function

<p>&nbsp;<br>
$$ y(t) = v_0t- \frac{1}{2}gt^2$$
<p>&nbsp;<br>


<p>
<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
<p>

<iframe width="950" height="500" frameborder="0"
        src="http://pythontutor.com/iframe-embed.html#code=def+yfunc%28t%2C+v0%29%3A%0A++++g+%3D+9.81%0A++++return+v0%2At+-+0.5%2Ag%2At%2A%2A2%0A%0A%23+sample+calls%3A%0Ay+%3D+yfunc%280.1%2C+6%29%0Ay+%3D+yfunc%280.1%2C+v0%3D6%29%0Ay+%3D+yfunc%28t%3D0.1%2C+v0%3D6%29%0Ay+%3D+yfunc%28v0%3D6%2C+t%3D0.1%29&curInstr=0&py=2&cumulative=false">
</iframe>

</div>


<p>

</section>


<section>

<h2>Function arguments become local variables <a name="slides:funcif:local:vars"></a></h2>


<iframe width="950" height="500" frameborder="0"
        src="http://pythontutor.com/iframe-embed.html#code=def+yfunc%28t%2C+v0%29%3A%0A++++g+%3D+9.81%0A++++return+v0%2At+-+0.5%2Ag%2At%2A%2A2%0A%0Av0+%3D+5%0At+%3D+0.6%0Ay+%3D+yfunc%28t%2C+3%29&curInstr=0&py=2&cumulative=false">
</iframe>
<p>
<div class="alert alert-block alert-block alert-text-normal">
<b>Local vs global variables.</b>
<p>
When calling <code>yfunc(t, 3)</code>, all these statements are in fact executed:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0.6</span>  <span style="color: #999999; font-style: italic"># arguments get values as in standard assignments</span>
<span style="color: #d0d0d0">v0</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">3</span>
<span style="color: #d0d0d0">g</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">9.81</span>
<span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">-</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*g*t**</span><span style="color: #3677a9">2</span>
</pre></div>
<p>
Inside <code>yfunc</code>, <code>t</code>, <code>v0</code>, and <code>g</code> are <em>local variables</em>, not visible outside
<code>yfunc</code> and desroyed after <code>return</code>.

<p>
Outside <code>yfunc</code> (in the main program), <code>t</code>, <code>v0</code>, and <code>y</code> are <em>global variables</em>, visible everywhere.
</div>


<p>

</section>


<section>

<h2>Functions may access global variables  <a name="___sec6"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
The <code>yfunc(t,v0)</code> function took two arguments.
Could implement \( y(t) \) as a function of \( t \) only:

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">yfunc</span><span style="color: #d0d0d0">(t):</span>
<span style="color: #d0d0d0">...</span>     <span style="color: #d0d0d0">g</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">9.81</span>
<span style="color: #d0d0d0">...</span>     <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">-</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*g*t**</span><span style="color: #3677a9">2</span>
<span style="color: #d0d0d0">...</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0.6</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">yfunc(t)</span>
<span style="color: #d0d0d0">...</span>
<span style="color: #bbbbbb">NameError</span><span style="color: #d0d0d0">:</span> <span style="color: #6ab825; font-weight: bold">global</span> <span style="color: #d0d0d0">name</span> <span style="color: #ed9d13">&#39;v0&#39;</span> <span style="color: #6ab825; font-weight: bold">is</span> <span style="color: #6ab825; font-weight: bold">not</span> <span style="color: #d0d0d0">defined</span>
</pre></div>
<p>
Problem: <code>v0</code> must be defined in the calling program program before
we call <code>yfunc</code>!

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">v0</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">5</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">yfunc(</span><span style="color: #3677a9">0.6</span><span style="color: #d0d0d0">)</span>
<span style="color: #3677a9">1.2342</span>
</pre></div>
<p>
Note: <code>v0</code> and <code>t</code> (in the main program) are global variables, while
the <code>t</code> in <code>yfunc</code> is a local variable.
</div>


<p>

</section>


<section>

<h2>Local variables hide global variables of the same name <a name="slides:funcif:hide:globals"></a></h2>

Test this:

<p>

<iframe width="950" height="500" frameborder="0"
        src="http://pythontutor.com/iframe-embed.html#code=def+yfunc%28t%29%3A%0A++++print+%271.+local+t+inside+yfunc%3A%27%2C+t%0A++++g+%3D+9.81%0A++++t+%3D+0.1%0A++++print+%272.+local+t+inside+yfunc%3A%27%2C+t%0A++++return+v0%2At+-+0.5%2Ag%2At%2A%2A2%0A%0At+%3D+0.6%0Av0+%3D+2%0Aprint+yfunc%28t%29%0Aprint+%271.+global+t%3A%27%2C+t%0Aprint+yfunc%280.3%29%0Aprint+%272.+global+t%3A%27%2C+t&curInstr=0&py=2&cumulative=false">
</iframe>
<p>
<div class="alert alert-block alert-question alert-text-normal">
<b>Question.</b>
<p>
What gets printed?
</div>


<p>

</section>


<section>

<h2>Global variables can be changed if declared global <a name="slides:funcif:change:globals"></a></h2>


<iframe width="950" height="500" frameborder="0"
        src="http://pythontutor.com/iframe-embed.html#code=def+yfunc%28t%29%3A%0A++++g+%3D+9.81%0A++++global+v0+++%23+now+v0+can+be+changed+inside+this+function%0A++++v0+%3D+9%0A++++return+v0%2At+-+0.5%2Ag%2At%2A%2A2%0A%0Av0+%3D+2+++%23+global+variable%0Aprint+%271.+v0%3A%27%2C+v0%0Aprint+yfunc%280.8%29%0Aprint+%272.+v0%3A%27%2C+v0&curInstr=0&py=2&cumulative=false">
</iframe>
<p>
<div class="alert alert-block alert-question alert-text-normal">
<b>What gets printed?</b>
<p>
<p>

<!-- code=text (!bc sys) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%">1. v0: 2
4.0608
2. v0: 9
</pre></div>

</div>


<p>
<div class="alert alert-block alert-question alert-text-normal">
<b>What happens if we comment out <code>global v0</code>?</b>
<p>
<p>

<!-- code=text (!bc sys) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%">1. v0: 2
4.0608
2. v0: 2
</pre></div>
<p>
<code>v0</code> in <code>yfunc</code> becomes a local variable (i.e., we have two <code>v0</code>)
</div>


<p>

</section>


<section>

<h2>Functions can return multiple values  <a name="___sec9"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
Say we want to compute \( y(t) \) and \( y'(t)=v_0-gt \):

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">yfunc</span><span style="color: #d0d0d0">(t,</span> <span style="color: #d0d0d0">v0):</span>
    <span style="color: #d0d0d0">g</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">9.81</span>
    <span style="color: #d0d0d0">y</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">-</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*g*t**</span><span style="color: #3677a9">2</span>
    <span style="color: #d0d0d0">dydt</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">v0</span> <span style="color: #d0d0d0">-</span> <span style="color: #d0d0d0">g*t</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">y,</span> <span style="color: #d0d0d0">dydt</span>

<span style="color: #999999; font-style: italic"># call:</span>
<span style="color: #d0d0d0">position,</span> <span style="color: #d0d0d0">velocity</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">yfunc(</span><span style="color: #3677a9">0.6</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">3</span><span style="color: #d0d0d0">)</span>
</pre></div>
<p>
Separate the objects to be returned by comma, assign to variables
separated by comma. Actually, a tuple is returned:

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">f</span><span style="color: #d0d0d0">(x):</span>
<span style="color: #d0d0d0">...</span>     <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">x,</span> <span style="color: #d0d0d0">x**</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">x**</span><span style="color: #3677a9">4</span>
<span style="color: #d0d0d0">...</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">f(</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">s</span>
<span style="color: #d0d0d0">(</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">4</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">16</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #24909d">type</span><span style="color: #d0d0d0">(s)</span>
<span style="color: #d0d0d0">&lt;</span><span style="color: #24909d">type</span> <span style="color: #ed9d13">&#39;tuple&#39;</span><span style="color: #d0d0d0">&gt;</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">x,</span> <span style="color: #d0d0d0">x2,</span> <span style="color: #d0d0d0">x4</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">f(</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">)</span>   <span style="color: #999999; font-style: italic"># same syntax as x, y = (obj1, obj2)</span>
</pre></div>

</div>


<p>

</section>


<section>

<h2>Example: Compute a function defined as a sum  <a name="___sec10"></a></h2>

The function

<p>&nbsp;<br>
$$ L(x;n) = \sum_{i=1}^n {1\over i}\left( {x\over 1+x}\right)^{i} $$
<p>&nbsp;<br>

is an approximation to \( \ln (1+x) \) for a finite \( n \) and \( x\geq 1 \).

<p>
<div class="alert alert-block alert-block alert-text-normal">
<b>Corresponding Python function for \( L(x;n) \):</b>
<p>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">L</span><span style="color: #d0d0d0">(x,</span> <span style="color: #d0d0d0">n):</span>
    <span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">=</span> <span style="color: #24909d">float</span><span style="color: #d0d0d0">(x)</span>  <span style="color: #999999; font-style: italic"># ensure float division below</span>
    <span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0</span>
    <span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">i</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #24909d">range</span><span style="color: #d0d0d0">(</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">n+</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">):</span>
        <span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">+=</span> <span style="color: #d0d0d0">(</span><span style="color: #3677a9">1.0</span><span style="color: #d0d0d0">/i)*(x/(</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">+x))**i</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">s</span>

<span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">5</span>
<span style="color: #6ab825; font-weight: bold">from</span> <span style="color: #447fcf; text-decoration: underline">math</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #d0d0d0">log</span> <span style="color: #6ab825; font-weight: bold">as</span> <span style="color: #d0d0d0">ln</span>
<span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">L(x,</span> <span style="color: #3677a9">10</span><span style="color: #d0d0d0">),</span> <span style="color: #d0d0d0">L(x,</span> <span style="color: #3677a9">100</span><span style="color: #d0d0d0">),</span> <span style="color: #d0d0d0">ln(</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">+x)</span>
</pre></div>

</div>


<p>

</section>


<section>

<h2>Returning errors as well from the L(x, n) function  <a name="___sec11"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
We can return more: 1) the first neglected term in the sum and 2) the error (\( \ln (1+x) - L(x;n) \)):

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">L2</span><span style="color: #d0d0d0">(x,</span> <span style="color: #d0d0d0">n):</span>
    <span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">=</span> <span style="color: #24909d">float</span><span style="color: #d0d0d0">(x)</span>
    <span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0</span>
    <span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">i</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #24909d">range</span><span style="color: #d0d0d0">(</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">n+</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">):</span>
        <span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">+=</span> <span style="color: #d0d0d0">(</span><span style="color: #3677a9">1.0</span><span style="color: #d0d0d0">/i)*(x/(</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">+x))**i</span>
    <span style="color: #d0d0d0">value_of_sum</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">s</span>
    <span style="color: #d0d0d0">first_neglected_term</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">(</span><span style="color: #3677a9">1.0</span><span style="color: #d0d0d0">/(n+</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">))*(x/(</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">+x))**(n+</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">)</span>
    <span style="color: #6ab825; font-weight: bold">from</span> <span style="color: #447fcf; text-decoration: underline">math</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #d0d0d0">log</span>
    <span style="color: #d0d0d0">exact_error</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">log(</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">+x)</span> <span style="color: #d0d0d0">-</span> <span style="color: #d0d0d0">value_of_sum</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">value_of_sum,</span> <span style="color: #d0d0d0">first_neglected_term,</span> <span style="color: #d0d0d0">exact_error</span>

<span style="color: #999999; font-style: italic"># typical call:</span>
<span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">1.2</span><span style="color: #d0d0d0">;</span> <span style="color: #d0d0d0">n</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">100</span>
<span style="color: #d0d0d0">value,</span> <span style="color: #d0d0d0">approximate_error,</span> <span style="color: #d0d0d0">exact_error</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">L2(x,</span> <span style="color: #d0d0d0">n)</span>
</pre></div>

</div>


<p>

</section>


<section>

<h2>Functions do not need to return objects  <a name="___sec12"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">somefunc</span><span style="color: #d0d0d0">(obj):</span>
    <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">obj</span>

<span style="color: #d0d0d0">return_value</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">somefunc(</span><span style="color: #3677a9">3.4</span><span style="color: #d0d0d0">)</span>
</pre></div>
<p>
Here, <code>return_value</code> becomes <code>None</code> because if we do not explicitly return something, Python will insert <code>return None</code>.
</div>


<p>

</section>


<section>

<h2>Example on a function without return value  <a name="___sec13"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b>Make a table of \( L(x;n) \) vs. \( \ln (1+x) \):</b>
<p>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">table</span><span style="color: #d0d0d0">(x):</span>
    <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #ed9d13">&#39;\nx=%g, ln(1+x)=%g&#39;</span> <span style="color: #d0d0d0">%</span> <span style="color: #d0d0d0">(x,</span> <span style="color: #d0d0d0">log(</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">+x))</span>
    <span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">n</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #d0d0d0">[</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">10</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">100</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">500</span><span style="color: #d0d0d0">]:</span>
        <span style="color: #d0d0d0">value,</span> <span style="color: #24909d">next</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">error</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">L2(x,</span> <span style="color: #d0d0d0">n)</span>
        <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #ed9d13">&#39;n=%-4d %-10g  (next term: %8.2e  &#39;</span>\
              <span style="color: #ed9d13">&#39;error: %8.2e)&#39;</span> <span style="color: #d0d0d0">%</span> <span style="color: #d0d0d0">(n,</span> <span style="color: #d0d0d0">value,</span> <span style="color: #24909d">next</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">error)</span>
</pre></div>
<p>
No need to return anything here - the purpose is to print.

<p>

<!-- code=text (!bc dat) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%">x=10, ln(1+x)=2.3979
n=1    0.909091    (next term: 4.13e-01  error: 1.49e+00)
n=2    1.32231     (next term: 2.50e-01  error: 1.08e+00)
n=10   2.17907     (next term: 3.19e-02  error: 2.19e-01)
n=100  2.39789     (next term: 6.53e-07  error: 6.59e-06)
n=500  2.3979      (next term: 3.65e-24  error: 6.22e-15)
</pre></div>

</div>


<p>

</section>


<section>

<h2>Keyword arguments are useful to simplify function calls and help document the arguments  <a name="___sec14"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
Functions can have arguments of the form <code>name=value</code>,
called <em>keyword arguments</em>:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">somefunc</span><span style="color: #d0d0d0">(arg1,</span> <span style="color: #d0d0d0">arg2,</span> <span style="color: #d0d0d0">kwarg1=</span><span style="color: #24909d">True</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">kwarg2=</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">):</span>
    <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">arg1,</span> <span style="color: #d0d0d0">arg2,</span> <span style="color: #d0d0d0">kwarg1,</span> <span style="color: #d0d0d0">kwarg2</span>
</pre></div>

</div>


<p>

</section>


<section>

<h2>Examples on calling functions with keyword arguments  <a name="___sec15"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
<p>

<!-- code=python (!bc pyshell) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">somefunc</span><span style="color: #d0d0d0">(arg1,</span> <span style="color: #d0d0d0">arg2,</span> <span style="color: #d0d0d0">kwarg1=</span><span style="color: #24909d">True</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">kwarg2=</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">):</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span>     <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">arg1,</span> <span style="color: #d0d0d0">arg2,</span> <span style="color: #d0d0d0">kwarg1,</span> <span style="color: #d0d0d0">kwarg2</span>

<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">somefunc(</span><span style="color: #ed9d13">&#39;Hello&#39;</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">[</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">])</span>   <span style="color: #999999; font-style: italic"># drop kwarg1 and kwarg2</span>
<span style="color: #d0d0d0">Hello</span> <span style="color: #d0d0d0">[</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">]</span> <span style="color: #24909d">True</span> <span style="color: #3677a9">0</span>            <span style="color: #999999; font-style: italic"># default values are used</span>

<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">somefunc(</span><span style="color: #ed9d13">&#39;Hello&#39;</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">[</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">],</span> <span style="color: #d0d0d0">kwarg1=</span><span style="color: #ed9d13">&#39;Hi&#39;</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">Hello</span> <span style="color: #d0d0d0">[</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">]</span> <span style="color: #d0d0d0">Hi</span> <span style="color: #3677a9">0</span>              <span style="color: #999999; font-style: italic"># kwarg2 has default value</span>

<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">somefunc(</span><span style="color: #ed9d13">&#39;Hello&#39;</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">[</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">],</span> <span style="color: #d0d0d0">kwarg2=</span><span style="color: #ed9d13">&#39;Hi&#39;</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">Hello</span> <span style="color: #d0d0d0">[</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">]</span> <span style="color: #24909d">True</span> <span style="color: #d0d0d0">Hi</span>           <span style="color: #999999; font-style: italic"># kwarg1 has default value</span>

<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">somefunc(</span><span style="color: #ed9d13">&#39;Hello&#39;</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">[</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">],</span> <span style="color: #d0d0d0">kwarg2=</span><span style="color: #ed9d13">&#39;Hi&#39;</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">kwarg1=</span><span style="color: #3677a9">6</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">Hello</span> <span style="color: #d0d0d0">[</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">]</span> <span style="color: #3677a9">6</span> <span style="color: #d0d0d0">Hi</span>              <span style="color: #999999; font-style: italic"># specify all args</span>
</pre></div>
<p>
If we use <code>name=value</code> for <em>all</em> arguments <em>in the call</em>,
their sequence can in fact be arbitrary:

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">somefunc(kwarg2=</span><span style="color: #ed9d13">&#39;Hello&#39;</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">arg1=</span><span style="color: #ed9d13">&#39;Hi&#39;</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">kwarg1=</span><span style="color: #3677a9">6</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">arg2=[</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">])</span>
<span style="color: #d0d0d0">Hi</span> <span style="color: #d0d0d0">[</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">]</span> <span style="color: #3677a9">6</span> <span style="color: #d0d0d0">Hello</span>
</pre></div>

</div>


<p>

</section>


<section>

<h2>How to implement a mathematical function of one variable, but with additional parameteres?  <a name="___sec16"></a></h2>

Consider a function of \( t \), with parameters \( A \), \( a \), and \( \omega \):

<p>&nbsp;<br>
$$ f(t; A,a, \omega) = Ae^{-at}\sin (\omega t)     $$
<p>&nbsp;<br>


<p>
<div class="alert alert-block alert-block alert-text-normal">
<b>Possible implementation.</b>
<p>
Python function with \( t \) as positional argument,
and \( A \), \( a \), and \( \omega \) as keyword arguments:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">from</span> <span style="color: #447fcf; text-decoration: underline">math</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #d0d0d0">pi,</span> <span style="color: #d0d0d0">exp,</span> <span style="color: #d0d0d0">sin</span>

<span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">f</span><span style="color: #d0d0d0">(t,</span> <span style="color: #d0d0d0">A=</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">a=</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">omega=</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">*pi):</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">A*exp(-a*t)*sin(omega*t)</span>

<span style="color: #d0d0d0">v1</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">f(</span><span style="color: #3677a9">0.2</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">v2</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">f(</span><span style="color: #3677a9">0.2</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">omega=</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">v2</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">f(</span><span style="color: #3677a9">0.2</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">3</span><span style="color: #d0d0d0">)</span>  <span style="color: #999999; font-style: italic"># same as f(0.2, A=1, a=3)</span>
<span style="color: #d0d0d0">v3</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">f(</span><span style="color: #3677a9">0.2</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">omega=</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">A=</span><span style="color: #3677a9">2.5</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">v4</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">f(A=</span><span style="color: #3677a9">5</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">a=</span><span style="color: #3677a9">0.1</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">omega=</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">t=</span><span style="color: #3677a9">1.3</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">v5</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">f(t=</span><span style="color: #3677a9">0.2</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">A=</span><span style="color: #3677a9">9</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">v6</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">f(t=</span><span style="color: #3677a9">0.2</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">9</span><span style="color: #d0d0d0">)</span>   <span style="color: #999999; font-style: italic"># illegal: keyword arg before positional</span>
</pre></div>

</div>


<p>

</section>


<section>

<h2>Doc strings are used to document the usage of a function  <a name="___sec17"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b>Important Python convention:</b>
<p>
Document the purpose of a function, its arguments, and its return values in a <em>doc string</em> - a (triple-quoted) string written right after the function header.

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">C2F</span><span style="color: #d0d0d0">(C):</span>
    <span style="color: #ed9d13">&quot;&quot;&quot;Convert Celsius degrees (C) to Fahrenheit.&quot;&quot;&quot;</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">(</span><span style="color: #3677a9">9.0</span><span style="color: #d0d0d0">/</span><span style="color: #3677a9">5</span><span style="color: #d0d0d0">)*C</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">32</span>

<span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">line</span><span style="color: #d0d0d0">(x0,</span> <span style="color: #d0d0d0">y0,</span> <span style="color: #d0d0d0">x1,</span> <span style="color: #d0d0d0">y1):</span>
    <span style="color: #ed9d13">&quot;&quot;&quot;</span>
<span style="color: #ed9d13">    Compute the coefficients a and b in the mathematical</span>
<span style="color: #ed9d13">    expression for a straight line y = a*x + b that goes</span>
<span style="color: #ed9d13">    through two points (x0, y0) and (x1, y1).</span>

<span style="color: #ed9d13">    x0, y0: a point on the line (floats).</span>
<span style="color: #ed9d13">    x1, y1: another point on the line (floats).</span>
<span style="color: #ed9d13">    return: a, b (floats) for the line (y=a*x+b).</span>
<span style="color: #ed9d13">    &quot;&quot;&quot;</span>
    <span style="color: #d0d0d0">a</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">(y1</span> <span style="color: #d0d0d0">-</span> <span style="color: #d0d0d0">y0)/(x1</span> <span style="color: #d0d0d0">-</span> <span style="color: #d0d0d0">x0)</span>
    <span style="color: #d0d0d0">b</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">y0</span> <span style="color: #d0d0d0">-</span> <span style="color: #d0d0d0">a*x0</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">a,</span> <span style="color: #d0d0d0">b</span>
</pre></div>

</div>


<p>

</section>


<section>

<h2>Convention for input and output data in functions  <a name="___sec18"></a></h2>


<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>

<ul>
  <p><li class="fragment"> A function can have three types of input and output data:</li>

<ul>
    <p><li class="fragment"> input data specified through positional/keyword arguments</li>
    <p><li class="fragment"> input/output data given as positional/keyword arguments that will be modified and returned</li>
    <p><li class="fragment"> output data created inside the function</li>
</ul>
<p>

  <p><li class="fragment"> <em>All output data are returned, all input data are arguments</em></li>
</ul>
</div>



<p>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">somefunc</span><span style="color: #d0d0d0">(i1,</span> <span style="color: #d0d0d0">i2,</span> <span style="color: #d0d0d0">i3,</span> <span style="color: #d0d0d0">io4,</span> <span style="color: #d0d0d0">io5,</span> <span style="color: #d0d0d0">i6=value1,</span> <span style="color: #d0d0d0">io7=value2):</span>
    <span style="color: #999999; font-style: italic"># modify io4, io5, io7; compute o1, o2, o3</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">o1,</span> <span style="color: #d0d0d0">o2,</span> <span style="color: #d0d0d0">o3,</span> <span style="color: #d0d0d0">io4,</span> <span style="color: #d0d0d0">io5,</span> <span style="color: #d0d0d0">io7</span>
</pre></div>
<p>
The function arguments are

<ul>
  <p><li class="fragment"> pure input: <code>i1</code>, <code>i2</code>, <code>i3</code>, <code>i6</code></li>
  <p><li class="fragment"> input and output: <code>io4</code>, <code>io5</code>, <code>io7</code></li>
</ul>
</div>



<p>

</section>


<section>

<h2>The main program is the set of statements outside functions  <a name="___sec19"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">from</span> <span style="color: #447fcf; text-decoration: underline">math</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #d0d0d0">*</span>          <span style="color: #999999; font-style: italic"># in main</span>

<span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">f</span><span style="color: #d0d0d0">(x):</span>                   <span style="color: #999999; font-style: italic"># in main</span>
    <span style="color: #d0d0d0">e</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">exp(-</span><span style="color: #3677a9">0.1</span><span style="color: #d0d0d0">*x)</span>
    <span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">sin(</span><span style="color: #3677a9">6</span><span style="color: #d0d0d0">*pi*x)</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">e*s</span>

<span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">2</span>                       <span style="color: #999999; font-style: italic"># in main</span>
<span style="color: #d0d0d0">y</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">f(x)</span>                    <span style="color: #999999; font-style: italic"># in main</span>
<span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #ed9d13">&#39;f(%g)=%g&#39;</span> <span style="color: #d0d0d0">%</span> <span style="color: #d0d0d0">(x,</span> <span style="color: #d0d0d0">y)</span>   <span style="color: #999999; font-style: italic"># in main</span>
</pre></div>
<p>
The execution starts with the first statement in the main program and proceeds line by line, top to bottom.

<p>
<code>def</code> statements define a function, but the statements inside the function are not executed before the function is called.
</div>


<p>

</section>


<section>

<h2>Python functions as arguments to Python functions  <a name="___sec20"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>

<ul>
  <p><li> Programs doing calculus frequently need to have functions as arguments
    in other functions, e.g.,</li>

<ul>
    <p><li> numerical integration: \( \int_a^b f(x)dx \)</li>
    <p><li> numerical differentiation: \( f'(x) \)</li>
    <p><li> numerical root finding: \( f(x)=0 \)</li>
</ul>
<p>

  <p><li> All three cases need \( f \) as a Python function <code>f(x)</code></li>
</ul>
</div>


<p>
<div class="alert alert-block alert-block alert-text-normal">
<b>Example: numerical computation of \( f''(x) \).</b>
<p>
<p>&nbsp;<br>
$$ f''(x) \approx {f(x-h) - 2f(x) + f(x+h)\over h^2} $$
<p>&nbsp;<br>


<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">diff2</span><span style="color: #d0d0d0">(f,</span> <span style="color: #d0d0d0">x,</span> <span style="color: #d0d0d0">h=</span><span style="color: #3677a9">1E-6</span><span style="color: #d0d0d0">):</span>
    <span style="color: #d0d0d0">r</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">(f(x-h)</span> <span style="color: #d0d0d0">-</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">*f(x)</span> <span style="color: #d0d0d0">+</span> <span style="color: #d0d0d0">f(x+h))/</span><span style="color: #24909d">float</span><span style="color: #d0d0d0">(h*h)</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">r</span>
</pre></div>
<p>
No difficulty with <code>f</code> being a function
(more complicated in Matlab, C, C++, Fortran, Java, ...).
</div>


<p>

</section>


<section>

<h2>Application of the <code>diff2</code> function  <a name="___sec21"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b>Code:</b>
<p>
<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">g</span><span style="color: #d0d0d0">(t):</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">t**(-</span><span style="color: #3677a9">6</span><span style="color: #d0d0d0">)</span>

<span style="color: #999999; font-style: italic"># make table of g&#39;&#39;(t) for 13 h values:</span>
<span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">k</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #24909d">range</span><span style="color: #d0d0d0">(</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span><span style="color: #3677a9">14</span><span style="color: #d0d0d0">):</span>
    <span style="color: #d0d0d0">h</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">10</span><span style="color: #d0d0d0">**(-k)</span>
    <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #ed9d13">&#39;h=%.0e: %.5f&#39;</span> <span style="color: #d0d0d0">%</span> <span style="color: #d0d0d0">(h,</span> <span style="color: #d0d0d0">diff2(g,</span> <span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">h))</span>
</pre></div>

</div>


<p>
<div class="alert alert-block alert-block alert-text-normal">
<b>Output (\( g''(1)=42 \)):</b>
<p>
<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">h=</span><span style="color: #3677a9">1e-01</span><span style="color: #d0d0d0">:</span> <span style="color: #3677a9">44.61504</span>
<span style="color: #d0d0d0">h=</span><span style="color: #3677a9">1e-02</span><span style="color: #d0d0d0">:</span> <span style="color: #3677a9">42.02521</span>
<span style="color: #d0d0d0">h=</span><span style="color: #3677a9">1e-03</span><span style="color: #d0d0d0">:</span> <span style="color: #3677a9">42.00025</span>
<span style="color: #d0d0d0">h=</span><span style="color: #3677a9">1e-04</span><span style="color: #d0d0d0">:</span> <span style="color: #3677a9">42.00000</span>
<span style="color: #d0d0d0">h=</span><span style="color: #3677a9">1e-05</span><span style="color: #d0d0d0">:</span> <span style="color: #3677a9">41.99999</span>
<span style="color: #d0d0d0">h=</span><span style="color: #3677a9">1e-06</span><span style="color: #d0d0d0">:</span> <span style="color: #3677a9">42.00074</span>
<span style="color: #d0d0d0">h=</span><span style="color: #3677a9">1e-07</span><span style="color: #d0d0d0">:</span> <span style="color: #3677a9">41.94423</span>
<span style="color: #d0d0d0">h=</span><span style="color: #3677a9">1e-08</span><span style="color: #d0d0d0">:</span> <span style="color: #3677a9">47.73959</span>
<span style="color: #d0d0d0">h=</span><span style="color: #3677a9">1e-09</span><span style="color: #d0d0d0">:</span> <span style="color: #d0d0d0">-</span><span style="color: #3677a9">666.13381</span>
<span style="color: #d0d0d0">h=</span><span style="color: #3677a9">1e-10</span><span style="color: #d0d0d0">:</span> <span style="color: #3677a9">0.00000</span>
<span style="color: #d0d0d0">h=</span><span style="color: #3677a9">1e-11</span><span style="color: #d0d0d0">:</span> <span style="color: #3677a9">0.00000</span>
<span style="color: #d0d0d0">h=</span><span style="color: #3677a9">1e-12</span><span style="color: #d0d0d0">:</span> <span style="color: #d0d0d0">-</span><span style="color: #3677a9">666133814.77509</span>
<span style="color: #d0d0d0">h=</span><span style="color: #3677a9">1e-13</span><span style="color: #d0d0d0">:</span> <span style="color: #3677a9">66613381477.50939</span>
</pre></div>

</div>


<p>

</section>


<section>

<h2>Round-off errors caused nonsense values in the table  <a name="___sec22"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>

<ul>
  <p><li> For \( h < 10^{-8} \) the results are totally wrong!</li>
  <p><li> We would expect better approximations as \( h \) gets smaller</li>
  <p><li> Problem 1: for small \( h \) we subtract numbers of approx equal size and this gives rise to round-off errors</li>
  <p><li> Problem 2: for small \( h \) the round-off errors are multiplied by a big number</li>
  <p><li> Remedy: use float variables with more digits</li>
  <p><li> Python has a (slow) float variable (<code>decimal.Decimal</code>) with arbitrary number of digits</li>
  <p><li> Using 25 digits gives accurate results for \( h \leq 10^{-13} \)</li>
  <p><li> Is this really a problem? Quite seldom - other uncertainies in input data to a mathematical computation makes it usual to have (e.g.) \( 10^{-2}\leq h \leq 10^{-6} \)</li>
</ul>
</div>


<p>

</section>


<section>

<h2>Lambda functions for compact inline function definitions  <a name="___sec23"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">f</span><span style="color: #d0d0d0">(x):</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">x**</span><span style="color: #3677a9">2</span> <span style="color: #d0d0d0">-</span> <span style="color: #3677a9">1</span>
</pre></div>
<p>
The <em>lambda</em> construction can define this function in one line:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">f</span> <span style="color: #d0d0d0">=</span> <span style="color: #6ab825; font-weight: bold">lambda</span> <span style="color: #d0d0d0">x:</span> <span style="color: #d0d0d0">x**</span><span style="color: #3677a9">2</span> <span style="color: #d0d0d0">-</span> <span style="color: #3677a9">1</span>
</pre></div>
<p>
In general,

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">somefunct</span> <span style="color: #d0d0d0">=</span> <span style="color: #6ab825; font-weight: bold">lambda</span> <span style="color: #d0d0d0">a1,</span> <span style="color: #d0d0d0">a2,</span> <span style="color: #d0d0d0">...:</span> <span style="color: #d0d0d0">some_expression</span>
</pre></div>
<p>
is equivalent to

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">somefunc</span><span style="color: #d0d0d0">(a1,</span> <span style="color: #d0d0d0">a2,</span> <span style="color: #d0d0d0">...):</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">some_expression</span>
</pre></div>
<p>
Lambda functions can be used directly as arguments in function calls:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">value</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">someotherfunc(</span><span style="color: #6ab825; font-weight: bold">lambda</span> <span style="color: #d0d0d0">x,</span> <span style="color: #d0d0d0">y,</span> <span style="color: #d0d0d0">z:</span> <span style="color: #d0d0d0">x+y+</span><span style="color: #3677a9">3</span><span style="color: #d0d0d0">*z,</span> <span style="color: #3677a9">4</span><span style="color: #d0d0d0">)</span>
</pre></div>

</div>


<p>

</section>


<section>

<h2>Example on using a lambda function to save typing  <a name="___sec24"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b>Old code:</b>
<p>
<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">g</span><span style="color: #d0d0d0">(t):</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">t**(-</span><span style="color: #3677a9">6</span><span style="color: #d0d0d0">)</span>

<span style="color: #d0d0d0">dgdt</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">diff2(g)</span>
<span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">dgdt</span>
</pre></div>

</div>


<p>
<div class="alert alert-block alert-block alert-text-normal">
<b>New, more compact code with lambda:</b>
<p>
<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">dgdt</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">diff2(</span><span style="color: #6ab825; font-weight: bold">lambda</span> <span style="color: #d0d0d0">t:</span> <span style="color: #d0d0d0">t**(-</span><span style="color: #3677a9">6</span><span style="color: #d0d0d0">))</span>
<span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">dgdt</span>
</pre></div>

</div>


<p>

</section>


<section>

<h2>If tests for branching the flow of statements  <a name="___sec25"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
Sometimes we want to peform different actions depending on a condition.
Example:

<p>&nbsp;<br>
$$
f(x) = \left\lbrace\begin{array}{ll}
\sin x, & 0\leq x\leq \pi\\
0, & \hbox{otherwise}
\end{array}\right.
$$
<p>&nbsp;<br>


<p>
A Python implementation of \( f \) needs to test on the value of
\( x \) and branch into two computations:

<p>

<iframe width="950" height="500" frameborder="0"
        src="http://pythontutor.com/iframe-embed.html#code=from+math+import+sin%2C+pi%0A%0Adef+f%28x%29%3A%0A++++if+0+%3C%3D+x+%3C%3D+pi%3A%0A++++++++return+sin%28x%29%0A++++else%3A%0A++++++++return+0%0A%0Aprint+f%280.5%29%0Aprint+f%285%2Api%29&curInstr=0&py=2&cumulative=false">
</iframe>

</div>


<p>

</section>


<section>

<h2>The general form if if tests  <a name="___sec26"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b>if-else (the else block can be skipped):</b>
<p>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">condition:</span>
    <span style="color: #d0d0d0">&lt;block</span> <span style="color: #d0d0d0">of</span> <span style="color: #d0d0d0">statements,</span> <span style="color: #d0d0d0">executed</span> <span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">condition</span> <span style="color: #6ab825; font-weight: bold">is</span> <span style="color: #24909d">True</span><span style="color: #d0d0d0">&gt;</span>
<span style="color: #6ab825; font-weight: bold">else</span><span style="color: #d0d0d0">:</span>
    <span style="color: #d0d0d0">&lt;block</span> <span style="color: #d0d0d0">of</span> <span style="color: #d0d0d0">statements,</span> <span style="color: #d0d0d0">executed</span> <span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">condition</span> <span style="color: #6ab825; font-weight: bold">is</span> <span style="color: #24909d">False</span><span style="color: #d0d0d0">&gt;</span>
</pre></div>

</div>


<p>
<div class="alert alert-block alert-block alert-text-normal">
<b>Multiple if-else.</b>
<p>
<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">condition1:</span>
    <span style="color: #d0d0d0">&lt;block</span> <span style="color: #d0d0d0">of</span> <span style="color: #d0d0d0">statements&gt;</span>
<span style="color: #6ab825; font-weight: bold">elif</span> <span style="color: #d0d0d0">condition2:</span>
    <span style="color: #d0d0d0">&lt;block</span> <span style="color: #d0d0d0">of</span> <span style="color: #d0d0d0">statements&gt;</span>
<span style="color: #6ab825; font-weight: bold">elif</span> <span style="color: #d0d0d0">condition3:</span>
    <span style="color: #d0d0d0">&lt;block</span> <span style="color: #d0d0d0">of</span> <span style="color: #d0d0d0">statements&gt;</span>
<span style="color: #6ab825; font-weight: bold">else</span><span style="color: #d0d0d0">:</span>
    <span style="color: #d0d0d0">&lt;block</span> <span style="color: #d0d0d0">of</span> <span style="color: #d0d0d0">statements&gt;</span>
<span style="color: #d0d0d0">&lt;</span><span style="color: #24909d">next</span> <span style="color: #d0d0d0">statement&gt;</span>
</pre></div>

</div>


<p>

</section>


<section>

<h2>Example on multiple branching  <a name="___sec27"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b>A piecewisely defined function.</b>
<p>

<p>&nbsp;<br>
$$
N(x) = \left\lbrace\begin{array}{ll}
0, & x < 0\\
x, & 0\leq x < 1\\
2-x, & 1\leq x < 2\\
0, & x \geq 2
\end{array}\right.
$$
<p>&nbsp;<br>
</div>


<p>
<div class="alert alert-block alert-block alert-text-normal">
<b>Python implementation with if-branching.</b>
<p>
<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">N</span><span style="color: #d0d0d0">(x):</span>
    <span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">&lt;</span> <span style="color: #3677a9">0</span><span style="color: #d0d0d0">:</span>
        <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #3677a9">0</span>
    <span style="color: #6ab825; font-weight: bold">elif</span> <span style="color: #3677a9">0</span> <span style="color: #d0d0d0">&lt;=</span> <span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">&lt;</span> <span style="color: #3677a9">1</span><span style="color: #d0d0d0">:</span>
        <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">x</span>
    <span style="color: #6ab825; font-weight: bold">elif</span> <span style="color: #3677a9">1</span> <span style="color: #d0d0d0">&lt;=</span> <span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">&lt;</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">:</span>
        <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #3677a9">2</span> <span style="color: #d0d0d0">-</span> <span style="color: #d0d0d0">x</span>
    <span style="color: #6ab825; font-weight: bold">elif</span> <span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">&gt;=</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">:</span>
        <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #3677a9">0</span>
</pre></div>

</div>


<p>

</section>


<section>

<h2>Inline if tests for shorter code  <a name="___sec28"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
A common construction is

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">condition:</span>
    <span style="color: #d0d0d0">variable</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">value1</span>
<span style="color: #6ab825; font-weight: bold">else</span><span style="color: #d0d0d0">:</span>
    <span style="color: #d0d0d0">variable</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">value2</span>
</pre></div>
<p>
This test can be placed on one line as an expression:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">variable</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">(value1</span> <span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">condition</span> <span style="color: #6ab825; font-weight: bold">else</span> <span style="color: #d0d0d0">value2)</span>
</pre></div>
<p>
Example:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">f</span><span style="color: #d0d0d0">(x):</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">(sin(x)</span> <span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #3677a9">0</span> <span style="color: #d0d0d0">&lt;=</span> <span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">&lt;=</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">*pi</span> <span style="color: #6ab825; font-weight: bold">else</span> <span style="color: #3677a9">0</span><span style="color: #d0d0d0">)</span>
</pre></div>

</div>


<p>

</section>


<section>

<h2>We shall write special <em>test functions</em> to verify functions  <a name="___sec29"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">double</span><span style="color: #d0d0d0">(x):</span>            <span style="color: #999999; font-style: italic"># some function</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">*x</span>

<span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">test_double</span><span style="color: #d0d0d0">():</span>        <span style="color: #999999; font-style: italic"># associated test function</span>
    <span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">4</span>
    <span style="color: #d0d0d0">exact</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">8</span>             <span style="color: #999999; font-style: italic"># expected result from function double</span>
    <span style="color: #d0d0d0">computed</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">double(x)</span>
    <span style="color: #d0d0d0">success</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">computed</span> <span style="color: #d0d0d0">==</span> <span style="color: #d0d0d0">exact</span>  <span style="color: #999999; font-style: italic"># boolean value: test passed</span>
    <span style="color: #d0d0d0">msg</span> <span style="color: #d0d0d0">=</span> <span style="color: #ed9d13">&#39;computed %s, expected %s&#39;</span> <span style="color: #d0d0d0">%</span> <span style="color: #d0d0d0">(computed,</span> <span style="color: #d0d0d0">exact)</span>
    <span style="color: #6ab825; font-weight: bold">assert</span> <span style="color: #d0d0d0">success,</span> <span style="color: #d0d0d0">msg</span>
</pre></div>

</div>


<p>
<div class="alert alert-block alert-block alert-text-normal">
<b>Rules for test functions:</b>
<p>

<ul>
 <p><li> name begins with <code>test_</code></li>
 <p><li> no arguments</li>
 <p><li> must have an <code>assert success</code> statement, where <code>success</code> is <code>True</code>
   if the test passed and <code>False</code> otherwise (<code>assert success, msg</code>
   prints <code>msg</code> on failure)</li>
</ul>
</div>


<p>

</section>


<section>

<h2>Why write test functions according to these rules?  <a name="___sec30"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>

<ul>
 <p><li> Easy to recognize where functions are verified</li>
 <p><li> Test frameworks, like <code>nose</code> and <code>pytest</code>, can automatically
   run <em>all</em> your test functions
   (in a folder tree) and report if any bugs have sneaked in</li>
</ul>
<p>

<p>

<!-- code=text (!bc sys) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%">Terminal&gt; nosetests -s .
Terminal&gt; pytest -s .
</pre></div>

</div>


<p>
<div class="alert alert-block alert-block alert-text-normal">
<b>Unit tests.</b>
<p>
A test function as <code>test_double()</code> is often referred to as a <em>unit test</em>
since it tests a small unit (function) of a program. When all unit
tests work, the whole program is supposed to work.
</div>


<p>

</section>


<section>

<h2>Summary of if tests and functions  <a name="___sec31"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
If tests:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">&lt;</span> <span style="color: #3677a9">0</span><span style="color: #d0d0d0">:</span>
    <span style="color: #d0d0d0">value</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">-</span><span style="color: #3677a9">1</span>
<span style="color: #6ab825; font-weight: bold">elif</span> <span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">&gt;=</span> <span style="color: #3677a9">0</span> <span style="color: #6ab825; font-weight: bold">and</span> <span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">&lt;=</span> <span style="color: #3677a9">1</span><span style="color: #d0d0d0">:</span>
    <span style="color: #d0d0d0">value</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">x</span>
<span style="color: #6ab825; font-weight: bold">else</span><span style="color: #d0d0d0">:</span>
    <span style="color: #d0d0d0">value</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">1</span>
</pre></div>
<p>
User-defined functions:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">quadratic_polynomial</span><span style="color: #d0d0d0">(x,</span> <span style="color: #d0d0d0">a,</span> <span style="color: #d0d0d0">b,</span> <span style="color: #d0d0d0">c)</span>
    <span style="color: #d0d0d0">value</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">a*x*x</span> <span style="color: #d0d0d0">+</span> <span style="color: #d0d0d0">b*x</span> <span style="color: #d0d0d0">+</span> <span style="color: #d0d0d0">c</span>
    <span style="color: #d0d0d0">derivative</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">*a*x</span> <span style="color: #d0d0d0">+</span> <span style="color: #d0d0d0">b</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">value,</span> <span style="color: #d0d0d0">derivative</span>

<span style="color: #999999; font-style: italic"># function call:</span>
<span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">1</span>
<span style="color: #d0d0d0">p,</span> <span style="color: #d0d0d0">dp</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">quadratic_polynomial(x,</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">1</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">p,</span> <span style="color: #d0d0d0">dp</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">quadratic_polynomial(x=x,</span> <span style="color: #d0d0d0">a=-</span><span style="color: #3677a9">4</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">b=</span><span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">c=</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">)</span>
</pre></div>
<p>
Positional arguments must appear before keyword arguments:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">f</span><span style="color: #d0d0d0">(x,</span> <span style="color: #d0d0d0">A=</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">a=</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">w=pi):</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">A*exp(-a*x)*sin(w*x)</span>
</pre></div>

</div>


<p>

</section>


<section>

<h2>A summarizing example for Chapter 3; problem  <a name="___sec32"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
An integral

<p>&nbsp;<br>
$$
\int_a^b f(x)dx
$$
<p>&nbsp;<br>

can be approximated by <em>Simpson's rule</em>:

<p>&nbsp;<br>
$$
\begin{align*}
\int_a^b f(x)dx \approx {b-a\over 3n}\biggl(
& f(a) + f(b) + 4\sum_{i=1}^{n/2} f(a + (2i-1)h)\\
& + 2\sum_{i=1}^{n/2-1} f(a+2ih)\biggr)
\end{align*}
$$
<p>&nbsp;<br>


<p>
Problem: make a function <code>Simpson(f, a, b, n=500)</code> for
computing an integral of <code>f(x)</code> by Simpson's rule.
Call <code>Simpson(...)</code> for \( {3\over2}\int_0^\pi\sin^3x dx \) (exact
value: 2) for \( n=2,6,12,100,500 \).
</div>


<p>

</section>


<section>

<h2>The program: function for computing the formula  <a name="___sec33"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">Simpson</span><span style="color: #d0d0d0">(f,</span> <span style="color: #d0d0d0">a,</span> <span style="color: #d0d0d0">b,</span> <span style="color: #d0d0d0">n=</span><span style="color: #3677a9">500</span><span style="color: #d0d0d0">):</span>
    <span style="color: #ed9d13">&quot;&quot;&quot;</span>
<span style="color: #ed9d13">    Return the approximation of the integral of f</span>
<span style="color: #ed9d13">    from a to b using Simpson&#39;s rule with n intervals.</span>
<span style="color: #ed9d13">    &quot;&quot;&quot;</span>

    <span style="color: #d0d0d0">h</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">(b</span> <span style="color: #d0d0d0">-</span> <span style="color: #d0d0d0">a)/</span><span style="color: #24909d">float</span><span style="color: #d0d0d0">(n)</span>

    <span style="color: #d0d0d0">sum1</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0</span>
    <span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">i</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #24909d">range</span><span style="color: #d0d0d0">(</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">n/</span><span style="color: #3677a9">2</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">1</span><span style="color: #d0d0d0">):</span>
        <span style="color: #d0d0d0">sum1</span> <span style="color: #d0d0d0">+=</span> <span style="color: #d0d0d0">f(a</span> <span style="color: #d0d0d0">+</span> <span style="color: #d0d0d0">(</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">*i-</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">)*h)</span>

    <span style="color: #d0d0d0">sum2</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0</span>
    <span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">i</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #24909d">range</span><span style="color: #d0d0d0">(</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">n/</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">):</span>
        <span style="color: #d0d0d0">sum2</span> <span style="color: #d0d0d0">+=</span> <span style="color: #d0d0d0">f(a</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">*i*h)</span>

    <span style="color: #d0d0d0">integral</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">(b-a)/(</span><span style="color: #3677a9">3</span><span style="color: #d0d0d0">*n)*(f(a)</span> <span style="color: #d0d0d0">+</span> <span style="color: #d0d0d0">f(b)</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">4</span><span style="color: #d0d0d0">*sum1</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">*sum2)</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">integral</span>
</pre></div>

</div>


<p>

</section>


<section>

<h2>The program: function, now with test for possible errors  <a name="___sec34"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">Simpson</span><span style="color: #d0d0d0">(f,</span> <span style="color: #d0d0d0">a,</span> <span style="color: #d0d0d0">b,</span> <span style="color: #d0d0d0">n=</span><span style="color: #3677a9">500</span><span style="color: #d0d0d0">):</span>

    <span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">a</span> <span style="color: #d0d0d0">&gt;</span> <span style="color: #d0d0d0">b:</span>
        <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #ed9d13">&#39;Error: a=%g &gt; b=%g&#39;</span> <span style="color: #d0d0d0">%</span> <span style="color: #d0d0d0">(a,</span> <span style="color: #d0d0d0">b)</span>
        <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #24909d">None</span>

    <span style="color: #999999; font-style: italic"># Check that n is even</span>
    <span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">n</span> <span style="color: #d0d0d0">%</span> <span style="color: #3677a9">2</span> <span style="color: #d0d0d0">!=</span> <span style="color: #3677a9">0</span><span style="color: #d0d0d0">:</span>
        <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #ed9d13">&#39;Error: n=%d is not an even integer!&#39;</span> <span style="color: #d0d0d0">%</span> <span style="color: #d0d0d0">n</span>
        <span style="color: #d0d0d0">n</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">n+</span><span style="color: #3677a9">1</span>  <span style="color: #999999; font-style: italic"># make n even</span>

    <span style="color: #999999; font-style: italic"># as before...</span>
    <span style="color: #d0d0d0">...</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">integral</span>
</pre></div>

</div>


<p>

</section>


<section>

<h2>The program: application (and main program)  <a name="___sec35"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">h</span><span style="color: #d0d0d0">(x):</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">(</span><span style="color: #3677a9">3.</span><span style="color: #d0d0d0">/</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">)*sin(x)**</span><span style="color: #3677a9">3</span>

<span style="color: #6ab825; font-weight: bold">from</span> <span style="color: #447fcf; text-decoration: underline">math</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #d0d0d0">sin,</span> <span style="color: #d0d0d0">pi</span>

<span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">application</span><span style="color: #d0d0d0">():</span>
    <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #ed9d13">&#39;Integral of 1.5*sin^3 from 0 to pi:&#39;</span>
    <span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">n</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">6</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">12</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">100</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">500</span><span style="color: #d0d0d0">:</span>
        <span style="color: #d0d0d0">approx</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">Simpson(h,</span> <span style="color: #3677a9">0</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">pi,</span> <span style="color: #d0d0d0">n)</span>
        <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #ed9d13">&#39;n=%3d, approx=%18.15f, error=%9.2E&#39;</span> <span style="color: #d0d0d0">%</span> \
              <span style="color: #d0d0d0">(n,</span> <span style="color: #d0d0d0">approx,</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">-approx)</span>

<span style="color: #d0d0d0">application()</span>
</pre></div>

</div>


<p>

</section>


<section>

<h2>The program: verification (with test function)  <a name="___sec36"></a></h2>

<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
Property of Simpson's rule: 2nd degree polynomials are integrated exactly!

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">test_Simpson</span><span style="color: #d0d0d0">():</span>      <span style="color: #999999; font-style: italic"># rule: no arguments</span>
    <span style="color: #ed9d13">&quot;&quot;&quot;Check that quadratic functions are integrated exactly.&quot;&quot;&quot;</span>
    <span style="color: #d0d0d0">a</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">1.5</span>
    <span style="color: #d0d0d0">b</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">2.0</span>
    <span style="color: #d0d0d0">n</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">8</span>
    <span style="color: #d0d0d0">g</span> <span style="color: #d0d0d0">=</span> <span style="color: #6ab825; font-weight: bold">lambda</span> <span style="color: #d0d0d0">x:</span> <span style="color: #3677a9">3</span><span style="color: #d0d0d0">*x**</span><span style="color: #3677a9">2</span> <span style="color: #d0d0d0">-</span> <span style="color: #3677a9">7</span><span style="color: #d0d0d0">*x</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">2.5</span>       <span style="color: #999999; font-style: italic"># test integrand</span>
    <span style="color: #d0d0d0">G</span> <span style="color: #d0d0d0">=</span> <span style="color: #6ab825; font-weight: bold">lambda</span> <span style="color: #d0d0d0">x:</span> <span style="color: #d0d0d0">x**</span><span style="color: #3677a9">3</span> <span style="color: #d0d0d0">-</span> <span style="color: #3677a9">3.5</span><span style="color: #d0d0d0">*x**</span><span style="color: #3677a9">2</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">2.5</span><span style="color: #d0d0d0">*x</span>  <span style="color: #999999; font-style: italic"># integral of g</span>
    <span style="color: #d0d0d0">exact</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">G(b)</span> <span style="color: #d0d0d0">-</span> <span style="color: #d0d0d0">G(a)</span>
    <span style="color: #d0d0d0">approx</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">Simpson(g,</span> <span style="color: #d0d0d0">a,</span> <span style="color: #d0d0d0">b,</span> <span style="color: #d0d0d0">n)</span>
    <span style="color: #d0d0d0">success</span> <span style="color: #d0d0d0">=</span> <span style="color: #24909d">abs</span><span style="color: #d0d0d0">(exact</span> <span style="color: #d0d0d0">-</span> <span style="color: #d0d0d0">approx)</span> <span style="color: #d0d0d0">&lt;</span> <span style="color: #3677a9">1E-14</span>  <span style="color: #999999; font-style: italic"># tolerance for floats</span>
    <span style="color: #d0d0d0">msg</span> <span style="color: #d0d0d0">=</span> <span style="color: #ed9d13">&#39;exact=%g, approx=%g&#39;</span> <span style="color: #d0d0d0">%</span> <span style="color: #d0d0d0">(exact,</span> <span style="color: #d0d0d0">approx)</span>
    <span style="color: #6ab825; font-weight: bold">assert</span> <span style="color: #d0d0d0">success,</span> <span style="color: #d0d0d0">msg</span>
</pre></div>
<p>
Can either call <code>test_Simpson()</code> or run nose or pytest:

<p>

<!-- code=text (!bc sys) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%">Terminal&gt; nosetests -s Simpson.py
Terminal&gt; pytest -s Simpson.py
...
Ran 1 test in 0.005s

OK
</pre></div>

</div>



</section>



</div> <!-- class="slides" -->
</div> <!-- class="reveal" -->

<script src="reveal.js/lib/js/head.min.js"></script>
<script src="reveal.js/js/reveal.min.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

    // Display navigation controls in the bottom right corner
    controls: true,

    // Display progress bar (below the horiz. slider)
    progress: true,

    // Display the page number of the current slide
    slideNumber: true,

    // Push each slide change to the browser history
    history: false,

    // Enable keyboard shortcuts for navigation
    keyboard: true,

    // Enable the slide overview mode
    overview: true,

    // Vertical centering of slides
    //center: true,
    center: false,

    // Enables touch navigation on devices with touch input
    touch: true,

    // Loop the presentation
    loop: false,

    // Change the presentation direction to be RTL
    rtl: false,

    // Turns fragments on and off globally
    fragments: true,

    // Flags if the presentation is running in an embedded mode,
    // i.e. contained within a limited portion of the screen
    embedded: false,

    // Number of milliseconds between automatically proceeding to the
    // next slide, disabled when set to 0, this value can be overwritten
    // by using a data-autoslide attribute on your slides
    autoSlide: 0,

    // Stop auto-sliding after user input
    autoSlideStoppable: true,

    // Enable slide navigation via mouse wheel
    mouseWheel: false,

    // Hides the address bar on mobile devices
    hideAddressBar: true,

    // Opens links in an iframe preview overlay
    previewLinks: false,

    // Transition style
    transition: 'default', // default/cube/page/concave/zoom/linear/fade/none

    // Transition speed
    transitionSpeed: 'default', // default/fast/slow

    // Transition style for full page slide backgrounds
    backgroundTransition: 'default', // default/none/slide/concave/convex/zoom

    // Number of slides away from the current that are visible
    viewDistance: 3,

    // Parallax background image
    //parallaxBackgroundImage: '', // e.g. "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'"

    // Parallax background size
    //parallaxBackgroundSize: '' // CSS syntax, e.g. "2100px 900px"

    theme: Reveal.getQueryHash().theme, // available themes are in reveal.js/css/theme
    transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/none

});

Reveal.initialize({
    dependencies: [
        // Cross-browser shim that fully implements classList - https://github.com/eligrey/classList.js/
        { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },

        // Interpret Markdown in <section> elements
        { src: 'reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        { src: 'reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },

        // Syntax highlight for <code> elements
        { src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },

        // Zoom in and out with Alt+click
        { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },

        // Speaker notes
        { src: 'reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },

        // Remote control your reveal.js presentation using a touch device
        //{ src: 'reveal.js/plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } },

        // MathJax
        //{ src: 'reveal.js/plugin/math/math.js', async: true }
    ]
});

Reveal.initialize({

    // The "normal" size of the presentation, aspect ratio will be preserved
    // when the presentation is scaled to fit different resolutions. Can be
    // specified using percentage units.
    width: 1170,  // original: 960,
    height: 700,

    // Factor of the display size that should remain empty around the content
    margin: 0.1,

    // Bounds for smallest/largest possible scale to apply to content
    minScale: 0.2,
    maxScale: 1.0

});
</script>

<!-- begin footer logo
<div style="position: absolute; bottom: 0px; left: 0; margin-left: 0px">
<img src="somelogo.png">
</div>
     end footer logo -->



</body>
</html>
